{"remainingRequest":"D:\\workspace\\scratch3\\scratch3\\node_modules\\babel-loader\\lib\\index.js!D:\\workspace\\scratch3\\scratch3\\node_modules\\vuetify-loader\\lib\\loader.js!D:\\workspace\\scratch3\\scratch3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workspace\\scratch3\\scratch3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workspace\\scratch3\\scratch3\\src\\components\\ListView.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workspace\\scratch3\\scratch3\\src\\components\\ListView.vue","mtime":1580885025403},{"path":"D:\\workspace\\scratch3\\scratch3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577006466531},{"path":"D:\\workspace\\scratch3\\scratch3\\node_modules\\babel-loader\\lib\\index.js","mtime":1577006466101},{"path":"D:\\workspace\\scratch3\\scratch3\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1577006481395},{"path":"D:\\workspace\\scratch3\\scratch3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577006466531},{"path":"D:\\workspace\\scratch3\\scratch3\\node_modules\\vue-loader\\lib\\index.js","mtime":1577006478648}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.object.values\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport SearchBar from '@/components/searchBar.vue';\nimport { ListArticles } from '@/api/Articles';\nexport default {\n  components: {\n    SearchBar: SearchBar\n  },\n  props: ['page-title', 'search-placeholder', 'typeList'],\n  data: function data() {\n    return {\n      pageDataNum: 8,\n      currentPage: 1,\n      totalPage: 1,\n      firstPage: '第一頁',\n      prev: '上一頁',\n      next: '下一頁',\n      finalPage: '最末頁',\n      theArticleList: '',\n      selectedQuery: '',\n      searchStatus: false,\n      searchQuery: ''\n    };\n  },\n  watch: {\n    currentPage: function currentPage(page) {\n      this.$router.push({\n        query: {\n          page: page\n        }\n      });\n      window.scrollTo(0, 0);\n    },\n    // selectedQuery: function(query) {\n    //     this.theArticleList = this.articleList;\n    // },\n    searchQuery: function searchQuery(query) {\n      var _this = this;\n\n      // if(query==null)\n      //     return\n      this.theArticleList = Object.values(this.theArticleList).filter(function (item) {\n        if (item.title.includes(query)) {\n          _this.searchStatus = true;\n          return item.title.includes(query);\n        }\n      });\n    },\n    theArticleList: function theArticleList() {\n      this.pageInit();\n    },\n    '$route': function $route() {\n      this.searchInit();\n    }\n  },\n  created: function created() {\n    this.ApiListArticles(2);\n  },\n  mount: function mount() {\n    this.searchInit();\n    this.pageInit(); // this.selectedQuery = this.$route.params.id;\n    // if(this.$route.query.page)\n    // this.currentPage = this.$route.query.page;\n  },\n  methods: {\n    ApiListArticles: function ApiListArticles(id) {\n      var _this2 = this;\n\n      ListArticles(id).then(function (response) {\n        _this2.theArticleList = response.data;\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    stripHTML: function stripHTML(input) {\n      var output = '';\n\n      if (typeof input == 'string') {\n        var output = input.replace(/(<([^>]+)>)/ig, \"\");\n        output = output.replace(/&nbsp;/ig, \"\");\n      }\n\n      return output;\n    },\n    pageInit: function pageInit() {\n      this.totalPage = Math.ceil(this.theArticleList.length / this.pageDataNum);\n    },\n    setPage: function setPage(page) {\n      if (page <= 0 || page > this.totalPage) {\n        return;\n      } else {\n        this.currentPage = page;\n      }\n    },\n    changePath: function changePath(idx) {\n      console.log(this.theArticleList[idx].id);\n      this.$router.push({\n        path: '/NA1/' + this.theArticleList[idx].id\n      });\n    },\n    searchInit: function searchInit() {\n      console.log(this.$route.query.search);\n      if (this.$route.query.search) this.searchQuery = this.$route.query.search;else this.theArticleList = this.articleList;\n    },\n    beforeEnter: function beforeEnter(el) {\n      el.style.opacity = 0;\n      el.style.height = 0;\n    },\n    enter: function enter(el, done) {\n      var delay = el.dataset.index * 150;\n      setTimeout(function () {\n        Velocity(el, {\n          opacity: 1,\n          height: '1.6em'\n        }, {\n          complete: done\n        });\n      }, delay);\n    },\n    leave: function leave(el, done) {\n      var delay = el.dataset.index * 150;\n      setTimeout(function () {\n        Velocity(el, {\n          opacity: 0,\n          height: 0\n        }, {\n          complete: done\n        });\n      }, delay);\n    }\n  }\n};",{"version":3,"sources":["ListView.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"pug\">\r\n#app\r\n    .listPageContent\r\n        SearchBar.searchBar-list(:searchPlaceholder='searchPlaceholder' :search-lists='theArticleList')\r\n        h1#listPageTitle {{pageTitle}}\r\n        .markBlockContainer\r\n            router-link.markBlock(style=\"color: #333; text-decoration: none;\" v-for='(typ,t) in typeList' :key='t' :to=\"typ\") {{typ}}\r\n        transition-group(name=\"staggered-fade\" tag=\"ul\" v-bind:css=\"false\" v-on:before-enter=\"beforeEnter\" v-on:enter=\"enter\" v-on:leave=\"leave\")\r\n            .List(v-for=\"idx in pageDataNum\" :key=\"idx\" :data-index=\"idx\")\r\n                .Listbtn(v-if=\"theArticleList[idx+(currentPage-1)*pageDataNum-1]\")\r\n                    .ListContainer\r\n                        .Listhead\r\n                            .ListImage(v-if=\"theArticleList[idx+(currentPage-1)*pageDataNum-1].media!=null\" :style=\"{'background-image': 'url(' + theArticleList[idx+(currentPage-1)*pageDataNum-1].media.info.src + ')'}\") \r\n                            .listTypeContainer\r\n                                    router-link.ListTypeBlock(style=\"color: #333; text-decoration: none;\" v-for='(typ,t) in theArticleList[idx+(currentPage-1)*pageDataNum-1].categories' :key='t' :to=\"'/newsPage/'+typ\") {{typ.name}} \r\n                        .ListTextBlock(@click=\"changePath(idx+(currentPage-1)*pageDataNum-1)\")\r\n                            .ListTitle {{theArticleList[idx+(currentPage-1)*pageDataNum-1].title}}\r\n                            .ListContent {{stripHTML(theArticleList[idx+(currentPage-1)*pageDataNum-1].body)}}\r\n                            .dateNote 更新日期 {{theArticleList[idx+(currentPage-1)*pageDataNum-1].updated_at.split(\"T\")[0]}}\r\n                            //- div#downloadBtn(v-if=\"theArticleList[idx+(currentPage-1)*pageDataNum-1].content.downloadFile\")\r\n                            //-     a#sehref(:href='theArticleList[idx+(currentPage-1)*pageDataNum-1].content.downloadFile' download) {{theArticleList[idx+(currentPage-1)*pageDataNum-1].content.downloadText}}\r\n    \r\n        a#myhref.pageBtn.firstPage(v-if=\"currentPage!=1\" @click=\"setPage(1)\") {{ firstPage }}\r\n        a#myhref.pageBtn.previous(v-if=\"currentPage!=1\" @click=\"setPage(currentPage - 1)\") {{ prev }}\r\n        select#pageSel(v-model=\"currentPage\")\r\n            option(v-for=\"idx in totalPage\") {{ idx }}\r\n        a#myhref.pageBtn.next(v-if=\"currentPage!=totalPage\" @click=\"setPage(currentPage + 1)\") {{ next }}\r\n        a#myhref.pageBtn.finalPage(v-if=\"currentPage!=totalPage\" @click=\"setPage(totalPage)\") {{ finalPage }}\r\n</template>\r\n\r\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.min.js\"></script>\r\n\r\n<script>\r\nimport SearchBar from '@/components/searchBar.vue'\r\nimport { ListArticles } from '@/api/Articles';\r\nexport default {\r\n    components: {\r\n        SearchBar\r\n    },\r\n    props: ['page-title','search-placeholder','typeList'],\r\n    data() {\r\n        return {\r\n            pageDataNum: 8,\r\n            currentPage: 1,\r\n            totalPage: 1,\r\n            firstPage: '第一頁',\r\n            prev: '上一頁',\r\n            next: '下一頁',\r\n            finalPage: '最末頁',\r\n            theArticleList: '',\r\n            selectedQuery: '',\r\n            searchStatus: false,\r\n            searchQuery: ''\r\n        }\r\n    },\r\n    watch: {\r\n        currentPage: function(page){\r\n            this.$router.push({query: {page: page} });\r\n            window.scrollTo(0,0);\r\n        },\r\n        // selectedQuery: function(query) {\r\n        //     this.theArticleList = this.articleList;\r\n        // },\r\n        searchQuery: function(query){\r\n            // if(query==null)\r\n            //     return\r\n            this.theArticleList = Object.values(this.theArticleList).filter((item)=>{\r\n                if(item.title.includes(query)){\r\n                    this.searchStatus = true;\r\n                    return item.title.includes(query);\r\n                }\r\n            })\r\n        },\r\n        theArticleList: function(){\r\n            this.pageInit();\r\n        },\r\n        '$route' (){\r\n            this.searchInit();\r\n        }\r\n    },\r\n    created() {\r\n        this.ApiListArticles(2);\r\n    },\r\n    mount(){\r\n        this.searchInit();\r\n        this.pageInit();\r\n        // this.selectedQuery = this.$route.params.id;\r\n        // if(this.$route.query.page)\r\n            // this.currentPage = this.$route.query.page;\r\n    },\r\n    methods: {\r\n        ApiListArticles(id) {\r\n            ListArticles(id)\r\n                .then(response => {\r\n                    this.theArticleList= response.data;\r\n                })\r\n                .catch(err => {\r\n                console.log(err);\r\n            });\r\n        },\r\n        stripHTML: function(input) {\r\n            var output = '';\r\n            if(typeof(input)=='string'){\r\n                var output = input.replace(/(<([^>]+)>)/ig,\"\");\r\n                output = output.replace(/&nbsp;/ig, \"\");\r\n            }\r\n            return output;\r\n        },\r\n        pageInit: function(){\r\n            this.totalPage = Math.ceil(this.theArticleList.length/this.pageDataNum);\r\n        },\r\n        setPage: function(page) {\r\n            if (page <= 0 || page > this.totalPage) {\r\n                return;\r\n            }\r\n            else{\r\n                this.currentPage = page;\r\n            }\r\n        },\r\n        changePath: function(idx){\r\n            console.log(this.theArticleList[idx].id);\r\n            this.$router.push({ path: '/NA1/'+this.theArticleList[idx].id})\r\n        },\r\n        searchInit: function(){\r\n            console.log(this.$route.query.search)\r\n            if(this.$route.query.search)\r\n                this.searchQuery = this.$route.query.search;\r\n            else\r\n                this.theArticleList = this.articleList;\r\n        },\r\n        beforeEnter: function (el) {\r\n            el.style.opacity = 0\r\n            el.style.height = 0\r\n        },\r\n        enter: function (el, done) {\r\n            var delay = el.dataset.index * 150\r\n        setTimeout(function () {\r\n            Velocity(\r\n                el,\r\n                { opacity: 1, height: '1.6em' },\r\n                { complete: done }\r\n                )\r\n            }, delay)\r\n        },\r\n        leave: function (el, done) {\r\n            var delay = el.dataset.index * 150\r\n        setTimeout(function () {\r\n            Velocity(\r\n            el,\r\n            { opacity: 0, height: 0 },\r\n            { complete: done }\r\n            )\r\n        }, delay)\r\n    }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n@import \"@/style/common.sass\"\r\n</style>\r\n\r\n"],"sourceRoot":"src/components"}]}